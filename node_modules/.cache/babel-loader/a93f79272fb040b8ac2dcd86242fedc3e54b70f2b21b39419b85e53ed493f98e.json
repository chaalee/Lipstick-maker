{"ast":null,"code":"var _jsxFileName = \"/Users/toeychalinee/skin-tone-analyzer/src/components/SkinToneAnalyzer.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState, useEffect } from 'react';\nimport { Camera, History, RefreshCw, Info } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SkinToneAnalyzer = () => {\n  _s();\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const [analysis, setAnalysis] = useState(null);\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\n  const [history, setHistory] = useState([]);\n  const [lightCondition, setLightCondition] = useState('unknown');\n  const [error, setError] = useState(null);\n  const LIP_COLORS = {\n    \"Cool\": {\n      \"Light\": [{\n        name: \"Soft Pink\",\n        color: \"rgb(255, 182, 193)\"\n      }, {\n        name: \"Mauve\",\n        color: \"rgb(224, 176, 255)\"\n      }, {\n        name: \"Berry\",\n        color: \"rgb(153, 0, 76)\"\n      }, {\n        name: \"Blue-based Red\",\n        color: \"rgb(220, 20, 60)\"\n      }],\n      \"Medium\": [{\n        name: \"Rose\",\n        color: \"rgb(255, 0, 127)\"\n      }, {\n        name: \"Plum\",\n        color: \"rgb(221, 160, 221)\"\n      }, {\n        name: \"Cranberry\",\n        color: \"rgb(159, 43, 104)\"\n      }, {\n        name: \"Cool Red\",\n        color: \"rgb(220, 20, 60)\"\n      }],\n      \"Dark\": [{\n        name: \"Deep Berry\",\n        color: \"rgb(139, 0, 98)\"\n      }, {\n        name: \"Burgundy\",\n        color: \"rgb(128, 0, 32)\"\n      }, {\n        name: \"Wine\",\n        color: \"rgb(114, 47, 55)\"\n      }, {\n        name: \"Deep Plum\",\n        color: \"rgb(142, 69, 133)\"\n      }]\n    },\n    \"Warm\": {\n      \"Light\": [{\n        name: \"Peach\",\n        color: \"rgb(255, 218, 185)\"\n      }, {\n        name: \"Coral\",\n        color: \"rgb(255, 127, 80)\"\n      }, {\n        name: \"Warm Pink\",\n        color: \"rgb(255, 182, 193)\"\n      }, {\n        name: \"Terracotta\",\n        color: \"rgb(226, 114, 91)\"\n      }],\n      \"Medium\": [{\n        name: \"Copper\",\n        color: \"rgb(184, 115, 51)\"\n      }, {\n        name: \"Warm Red\",\n        color: \"rgb(255, 69, 0)\"\n      }, {\n        name: \"Orange-Red\",\n        color: \"rgb(255, 69, 0)\"\n      }, {\n        name: \"Bronze\",\n        color: \"rgb(205, 127, 50)\"\n      }],\n      \"Dark\": [{\n        name: \"Deep Orange\",\n        color: \"rgb(255, 140, 0)\"\n      }, {\n        name: \"Brick Red\",\n        color: \"rgb(178, 34, 34)\"\n      }, {\n        name: \"Russet\",\n        color: \"rgb(128, 70, 27)\"\n      }, {\n        name: \"Auburn\",\n        color: \"rgb(165, 42, 42)\"\n      }]\n    },\n    \"Neutral\": {\n      \"Light\": [{\n        name: \"Nude Pink\",\n        color: \"rgb(231, 198, 192)\"\n      }, {\n        name: \"Soft Coral\",\n        color: \"rgb(240, 128, 128)\"\n      }, {\n        name: \"Rosewood\",\n        color: \"rgb(101, 0, 11)\"\n      }, {\n        name: \"Mauve-nude\",\n        color: \"rgb(209, 179, 164)\"\n      }],\n      \"Medium\": [{\n        name: \"Dusty Rose\",\n        color: \"rgb(193, 150, 142)\"\n      }, {\n        name: \"Cinnamon\",\n        color: \"rgb(210, 105, 30)\"\n      }, {\n        name: \"Terra Cotta\",\n        color: \"rgb(226, 114, 91)\"\n      }, {\n        name: \"Rosy Brown\",\n        color: \"rgb(188, 143, 143)\"\n      }],\n      \"Dark\": [{\n        name: \"Deep Nude\",\n        color: \"rgb(169, 92, 104)\"\n      }, {\n        name: \"Rich Berry\",\n        color: \"rgb(139, 0, 98)\"\n      }, {\n        name: \"Deep Mauve\",\n        color: \"rgb(145, 95, 109)\"\n      }, {\n        name: \"Coffee\",\n        color: \"rgb(111, 78, 55)\"\n      }]\n    }\n  };\n\n  // Initialize webcam\n  useEffect(() => {\n    const startVideo = async () => {\n      try {\n        const stream = await navigator.mediaDevices.getUserMedia({\n          video: {\n            width: 640,\n            height: 480,\n            facingMode: 'user'\n          }\n        });\n        if (videoRef.current) {\n          videoRef.current.srcObject = stream;\n        }\n      } catch (err) {\n        setError(\"Could not access camera. Please ensure camera permissions are granted.\");\n        console.error(\"Error accessing webcam:\", err);\n      }\n    };\n    startVideo();\n  }, []);\n  const detectLighting = imageData => {\n    let totalBrightness = 0;\n    for (let i = 0; i < imageData.data.length; i += 4) {\n      const r = imageData.data[i];\n      const g = imageData.data[i + 1];\n      const b = imageData.data[i + 2];\n      totalBrightness += (r + g + b) / 3;\n    }\n    const avgBrightness = totalBrightness / (imageData.data.length / 4);\n    if (avgBrightness < 85) return 'Dark';\n    if (avgBrightness > 170) return 'Light';\n    return 'Medium';\n  };\n  const getLipColorRecommendations = (undertone, brightness) => {\n    return LIP_COLORS[undertone][brightness];\n  };\n  const analyzeSkinTone = () => {\n    setIsAnalyzing(true);\n    const video = videoRef.current;\n    const canvas = canvasRef.current;\n    const context = canvas.getContext('2d');\n    context.save();\n    context.scale(-1, 1);\n    context.translate(-canvas.width, 0);\n    context.drawImage(video, 0, 0, canvas.width, canvas.height);\n    context.restore();\n    const centerArea = {\n      x: canvas.width / 2 - 50,\n      y: canvas.height / 2 - 50,\n      w: 100,\n      h: 100\n    };\n    const imageData = context.getImageData(centerArea.x, centerArea.y, centerArea.w, centerArea.h);\n    const brightness = detectLighting(imageData);\n    setLightCondition(brightness);\n    let totalR = 0,\n      totalG = 0,\n      totalB = 0;\n    const pixels = imageData.data.length / 4;\n    for (let i = 0; i < imageData.data.length; i += 4) {\n      totalR += imageData.data[i];\n      totalG += imageData.data[i + 1];\n      totalB += imageData.data[i + 2];\n    }\n    const r = totalR / pixels;\n    const g = totalG / pixels;\n    const b = totalB / pixels;\n\n    // Convert RGB to Lab\n    let rgb = [r / 255, g / 255, b / 255];\n    rgb = rgb.map(v => v > 0.04045 ? Math.pow((v + 0.055) / 1.055, 2.4) : v / 12.92);\n    const X = rgb[0] * 0.4124 + rgb[1] * 0.3576 + rgb[2] * 0.1805;\n    const Y = rgb[0] * 0.2126 + rgb[1] * 0.7152 + rgb[2] * 0.0722;\n    const Z = rgb[0] * 0.0193 + rgb[1] * 0.1192 + rgb[2] * 0.9505;\n    const Xn = 0.95047,\n      Yn = 1.00000,\n      Zn = 1.08883;\n    const xyz = [X / Xn, Y / Yn, Z / Zn].map(v => v > 0.008856 ? Math.pow(v, 1 / 3) : 7.787 * v + 16 / 116);\n    const L = 116 * xyz[1] - 16;\n    const aValue = 500 * (xyz[0] - xyz[1]);\n    const bValue = 200 * (xyz[1] - xyz[2]);\n    const hueAngle = Math.atan2(bValue, aValue) * (180 / Math.PI);\n    let undertone = '';\n    if (hueAngle > 65) {\n      undertone = 'Warm';\n    } else if (hueAngle < 55) {\n      undertone = 'Cool';\n    } else {\n      undertone = 'Neutral';\n    }\n    const lipColors = getLipColorRecommendations(undertone, brightness);\n    const newAnalysis = {\n      undertone,\n      brightness,\n      labValues: {\n        L: L.toFixed(1),\n        a: aValue.toFixed(1),\n        b: bValue.toFixed(1)\n      },\n      lipColors,\n      timestamp: new Date().toISOString()\n    };\n    setAnalysis(newAnalysis);\n    setHistory(prev => [...prev.slice(-4), newAnalysis]);\n    setIsAnalyzing(false);\n  };\n  const getLightingAdvice = () => {\n    switch (lightCondition) {\n      case 'Dark':\n        return 'Lighting is too dark. Move to a brighter area for better results.';\n      case 'Light':\n        return 'Good lighting for light skin tones.';\n      case 'Medium':\n        return 'Lighting conditions are optimal.';\n      default:\n        return 'Analyzing lighting conditions...';\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4 max-w-4xl mx-auto\",\n    children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"font-bold\",\n        children: \"Error\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold mb-2\",\n        children: \"Lip Color Recommendation\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600\",\n        children: \"Center your face in the frame for accurate analysis\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm text-gray-500 flex items-center gap-1 mt-1\",\n        children: [/*#__PURE__*/_jsxDEV(Info, {\n          size: 14\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }, this), getLightingAdvice()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"video\", {\n        ref: videoRef,\n        autoPlay: true,\n        playsInline: true,\n        className: \"w-full border rounded transform scale-x-[-1]\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n        ref: canvasRef,\n        width: \"640\",\n        height: \"480\",\n        className: \"hidden\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-[100px] h-[100px] border-2 border-white rounded-lg opacity-50\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex gap-2 mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: analyzeSkinTone,\n        disabled: isAnalyzing,\n        className: \"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded flex items-center gap-2 disabled:opacity-50\",\n        children: [/*#__PURE__*/_jsxDEV(Camera, {\n          size: 20\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 11\n        }, this), isAnalyzing ? 'Analyzing...' : 'Analyze Skin Tone']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setHistory([]),\n        className: \"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n          size: 20\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 11\n        }, this), \"Clear History\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 7\n    }, this), analysis && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 border rounded bg-white shadow-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-bold mb-4\",\n          children: \"Recommended Lip Colors:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-2 md:grid-cols-4 gap-4\",\n          children: analysis.lipColors.map((color, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center space-y-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-16 h-16 rounded-full mx-auto shadow-sm border\",\n              style: {\n                backgroundColor: color.color\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm font-medium\",\n              children: color.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 19\n            }, this)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4 pt-4 border-t\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mb-2\",\n            children: \"Analysis Details:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-1 text-sm text-gray-600\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Undertone: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: analysis.undertone\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 31\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Lighting: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: analysis.brightness\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 276,\n                columnNumber: 30\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Lab Values: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: [\"L*: \", analysis.labValues.L, \", a*: \", analysis.labValues.a, \", b*: \", analysis.labValues.b]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 32\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 11\n      }, this), history.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 border rounded bg-white shadow-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2 mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(History, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-bold\",\n            children: \"Analysis History:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-2\",\n          children: history.map((record, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-gray-600 border-b pb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Time: \", new Date(record.timestamp).toLocaleTimeString()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Undertone: \", record.undertone, \", Lighting: \", record.brightness]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Recommended Colors: \", record.lipColors.map(c => c.name).join(', ')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 21\n            }, this)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 202,\n    columnNumber: 5\n  }, this);\n};\n_s(SkinToneAnalyzer, \"rAVpSQwwI+a++wE8LQ/ktLYPLsY=\");\n_c = SkinToneAnalyzer;\nexport default SkinToneAnalyzer;\nvar _c;\n$RefreshReg$(_c, \"SkinToneAnalyzer\");","map":{"version":3,"names":["React","useRef","useState","useEffect","Camera","History","RefreshCw","Info","jsxDEV","_jsxDEV","SkinToneAnalyzer","_s","videoRef","canvasRef","analysis","setAnalysis","isAnalyzing","setIsAnalyzing","history","setHistory","lightCondition","setLightCondition","error","setError","LIP_COLORS","name","color","startVideo","stream","navigator","mediaDevices","getUserMedia","video","width","height","facingMode","current","srcObject","err","console","detectLighting","imageData","totalBrightness","i","data","length","r","g","b","avgBrightness","getLipColorRecommendations","undertone","brightness","analyzeSkinTone","canvas","context","getContext","save","scale","translate","drawImage","restore","centerArea","x","y","w","h","getImageData","totalR","totalG","totalB","pixels","rgb","map","v","Math","pow","X","Y","Z","Xn","Yn","Zn","xyz","L","aValue","bValue","hueAngle","atan2","PI","lipColors","newAnalysis","labValues","toFixed","a","timestamp","Date","toISOString","prev","slice","getLightingAdvice","className","children","fileName","_jsxFileName","lineNumber","columnNumber","size","ref","autoPlay","playsInline","onClick","disabled","style","backgroundColor","record","toLocaleTimeString","c","join","_c","$RefreshReg$"],"sources":["/Users/toeychalinee/skin-tone-analyzer/src/components/SkinToneAnalyzer.js"],"sourcesContent":["import React, { useRef, useState, useEffect } from 'react';\nimport { Camera, History, RefreshCw, Info } from 'lucide-react';\n\nconst SkinToneAnalyzer = () => {\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const [analysis, setAnalysis] = useState(null);\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\n  const [history, setHistory] = useState([]);\n  const [lightCondition, setLightCondition] = useState('unknown');\n  const [error, setError] = useState(null);\n\n  const LIP_COLORS = {\n    \"Cool\": {\n        \"Light\": [\n            { name: \"Soft Pink\", color: \"rgb(255, 182, 193)\" },\n            { name: \"Mauve\", color: \"rgb(224, 176, 255)\" },\n            { name: \"Berry\", color: \"rgb(153, 0, 76)\" },\n            { name: \"Blue-based Red\", color: \"rgb(220, 20, 60)\" }\n        ],\n        \"Medium\": [\n            { name: \"Rose\", color: \"rgb(255, 0, 127)\" },\n            { name: \"Plum\", color: \"rgb(221, 160, 221)\" },\n            { name: \"Cranberry\", color: \"rgb(159, 43, 104)\" },\n            { name: \"Cool Red\", color: \"rgb(220, 20, 60)\" }\n        ],\n        \"Dark\": [\n            { name: \"Deep Berry\", color: \"rgb(139, 0, 98)\" },\n            { name: \"Burgundy\", color: \"rgb(128, 0, 32)\" },\n            { name: \"Wine\", color: \"rgb(114, 47, 55)\" },\n            { name: \"Deep Plum\", color: \"rgb(142, 69, 133)\" }\n        ]\n    },\n    \"Warm\": {\n        \"Light\": [\n            { name: \"Peach\", color: \"rgb(255, 218, 185)\" },\n            { name: \"Coral\", color: \"rgb(255, 127, 80)\" },\n            { name: \"Warm Pink\", color: \"rgb(255, 182, 193)\" },\n            { name: \"Terracotta\", color: \"rgb(226, 114, 91)\" }\n        ],\n        \"Medium\": [\n            { name: \"Copper\", color: \"rgb(184, 115, 51)\" },\n            { name: \"Warm Red\", color: \"rgb(255, 69, 0)\" },\n            { name: \"Orange-Red\", color: \"rgb(255, 69, 0)\" },\n            { name: \"Bronze\", color: \"rgb(205, 127, 50)\" }\n        ],\n        \"Dark\": [\n            { name: \"Deep Orange\", color: \"rgb(255, 140, 0)\" },\n            { name: \"Brick Red\", color: \"rgb(178, 34, 34)\" },\n            { name: \"Russet\", color: \"rgb(128, 70, 27)\" },\n            { name: \"Auburn\", color: \"rgb(165, 42, 42)\" }\n        ]\n    },\n    \"Neutral\": {\n        \"Light\": [\n            { name: \"Nude Pink\", color: \"rgb(231, 198, 192)\" },\n            { name: \"Soft Coral\", color: \"rgb(240, 128, 128)\" },\n            { name: \"Rosewood\", color: \"rgb(101, 0, 11)\" },\n            { name: \"Mauve-nude\", color: \"rgb(209, 179, 164)\" }\n        ],\n        \"Medium\": [\n            { name: \"Dusty Rose\", color: \"rgb(193, 150, 142)\" },\n            { name: \"Cinnamon\", color: \"rgb(210, 105, 30)\" },\n            { name: \"Terra Cotta\", color: \"rgb(226, 114, 91)\" },\n            { name: \"Rosy Brown\", color: \"rgb(188, 143, 143)\" }\n        ],\n        \"Dark\": [\n            { name: \"Deep Nude\", color: \"rgb(169, 92, 104)\" },\n            { name: \"Rich Berry\", color: \"rgb(139, 0, 98)\" },\n            { name: \"Deep Mauve\", color: \"rgb(145, 95, 109)\" },\n            { name: \"Coffee\", color: \"rgb(111, 78, 55)\" }\n        ]\n    }\n  };\n\n  // Initialize webcam\n  useEffect(() => {\n    const startVideo = async () => {\n      try {\n        const stream = await navigator.mediaDevices.getUserMedia({ \n          video: { width: 640, height: 480, facingMode: 'user' }\n        });\n        if (videoRef.current) {\n          videoRef.current.srcObject = stream;\n        }\n      } catch (err) {\n        setError(\"Could not access camera. Please ensure camera permissions are granted.\");\n        console.error(\"Error accessing webcam:\", err);\n      }\n    };\n    startVideo();\n  }, []);\n\n  const detectLighting = (imageData) => {\n    let totalBrightness = 0;\n    for (let i = 0; i < imageData.data.length; i += 4) {\n      const r = imageData.data[i];\n      const g = imageData.data[i + 1];\n      const b = imageData.data[i + 2];\n      totalBrightness += (r + g + b) / 3;\n    }\n    const avgBrightness = totalBrightness / (imageData.data.length / 4);\n    \n    if (avgBrightness < 85) return 'Dark';\n    if (avgBrightness > 170) return 'Light';\n    return 'Medium';\n  };\n\n  const getLipColorRecommendations = (undertone, brightness) => {\n    return LIP_COLORS[undertone][brightness];\n  };\n\n  const analyzeSkinTone = () => {\n    setIsAnalyzing(true);\n    const video = videoRef.current;\n    const canvas = canvasRef.current;\n    const context = canvas.getContext('2d');\n\n    context.save();\n    context.scale(-1, 1);\n    context.translate(-canvas.width, 0);\n    context.drawImage(video, 0, 0, canvas.width, canvas.height);\n    context.restore();\n    \n    const centerArea = {\n      x: canvas.width/2 - 50,\n      y: canvas.height/2 - 50,\n      w: 100,\n      h: 100\n    };\n\n    const imageData = context.getImageData(centerArea.x, centerArea.y, centerArea.w, centerArea.h);\n    const brightness = detectLighting(imageData);\n    setLightCondition(brightness);\n\n    let totalR = 0, totalG = 0, totalB = 0;\n    const pixels = imageData.data.length / 4;\n\n    for (let i = 0; i < imageData.data.length; i += 4) {\n      totalR += imageData.data[i];\n      totalG += imageData.data[i + 1];\n      totalB += imageData.data[i + 2];\n    }\n\n    const r = totalR / pixels;\n    const g = totalG / pixels;\n    const b = totalB / pixels;\n\n    // Convert RGB to Lab\n    let rgb = [r/255, g/255, b/255];\n    rgb = rgb.map(v => v > 0.04045 ? Math.pow((v + 0.055) / 1.055, 2.4) : v / 12.92);\n    \n    const X = rgb[0] * 0.4124 + rgb[1] * 0.3576 + rgb[2] * 0.1805;\n    const Y = rgb[0] * 0.2126 + rgb[1] * 0.7152 + rgb[2] * 0.0722;\n    const Z = rgb[0] * 0.0193 + rgb[1] * 0.1192 + rgb[2] * 0.9505;\n\n    const Xn = 0.95047, Yn = 1.00000, Zn = 1.08883;\n    const xyz = [X/Xn, Y/Yn, Z/Zn].map(v => \n      v > 0.008856 ? Math.pow(v, 1/3) : (7.787 * v) + 16/116\n    );\n\n    const L = (116 * xyz[1]) - 16;\n    const aValue = 500 * (xyz[0] - xyz[1]);\n    const bValue = 200 * (xyz[1] - xyz[2]);\n\n    const hueAngle = Math.atan2(bValue, aValue) * (180/Math.PI);\n    \n    let undertone = '';\n    if (hueAngle > 65) {\n      undertone = 'Warm';\n    } else if (hueAngle < 55) {\n      undertone = 'Cool';\n    } else {\n      undertone = 'Neutral';\n    }\n\n    const lipColors = getLipColorRecommendations(undertone, brightness);\n\n    const newAnalysis = {\n      undertone,\n      brightness,\n      labValues: { L: L.toFixed(1), a: aValue.toFixed(1), b: bValue.toFixed(1) },\n      lipColors,\n      timestamp: new Date().toISOString()\n    };\n\n    setAnalysis(newAnalysis);\n    setHistory(prev => [...prev.slice(-4), newAnalysis]);\n    setIsAnalyzing(false);\n  };\n\n  const getLightingAdvice = () => {\n    switch(lightCondition) {\n      case 'Dark': return 'Lighting is too dark. Move to a brighter area for better results.';\n      case 'Light': return 'Good lighting for light skin tones.';\n      case 'Medium': return 'Lighting conditions are optimal.';\n      default: return 'Analyzing lighting conditions...';\n    }\n  };\n\n  return (\n    <div className=\"p-4 max-w-4xl mx-auto\">\n      {error && (\n        <div className=\"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded\">\n          <h4 className=\"font-bold\">Error</h4>\n          <p>{error}</p>\n        </div>\n      )}\n\n      <div className=\"mb-4\">\n        <h2 className=\"text-2xl font-bold mb-2\">Lip Color Recommendation</h2>\n        <p className=\"text-gray-600\">Center your face in the frame for accurate analysis</p>\n        <div className=\"text-sm text-gray-500 flex items-center gap-1 mt-1\">\n          <Info size={14} />\n          {getLightingAdvice()}\n        </div>\n      </div>\n\n      <div className=\"relative mb-4\">\n        <video \n          ref={videoRef}\n          autoPlay \n          playsInline\n          className=\"w-full border rounded transform scale-x-[-1]\"\n        />\n        <canvas \n          ref={canvasRef} \n          width=\"640\" \n          height=\"480\" \n          className=\"hidden\"\n        />\n        <div className=\"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2\">\n          <div className=\"w-[100px] h-[100px] border-2 border-white rounded-lg opacity-50\" />\n        </div>\n      </div>\n\n      <div className=\"flex gap-2 mb-4\">\n        <button\n          onClick={analyzeSkinTone}\n          disabled={isAnalyzing}\n          className=\"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded flex items-center gap-2 disabled:opacity-50\"\n        >\n          <Camera size={20} />\n          {isAnalyzing ? 'Analyzing...' : 'Analyze Skin Tone'}\n        </button>\n\n        <button\n          onClick={() => setHistory([])}\n          className=\"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded flex items-center gap-2\"\n        >\n          <RefreshCw size={20} />\n          Clear History\n        </button>\n      </div>\n\n      {analysis && (\n        <div className=\"space-y-4\">\n          <div className=\"p-4 border rounded bg-white shadow-sm\">\n            <h3 className=\"font-bold mb-4\">Recommended Lip Colors:</h3>\n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n              {analysis.lipColors.map((color, i) => (\n                <div key={i} className=\"text-center space-y-2\">\n                  <div\n                    className=\"w-16 h-16 rounded-full mx-auto shadow-sm border\"\n                    style={{ backgroundColor: color.color }}\n                  />\n                  <p className=\"text-sm font-medium\">{color.name}</p>\n                </div>\n              ))}\n            </div>\n            \n            <div className=\"mt-4 pt-4 border-t\">\n              <p className=\"mb-2\">Analysis Details:</p>\n              <div className=\"space-y-1 text-sm text-gray-600\">\n                <p>Undertone: <span className=\"font-medium\">{analysis.undertone}</span></p>\n                <p>Lighting: <span className=\"font-medium\">{analysis.brightness}</span></p>\n                <p>Lab Values: <span className=\"font-medium\">\n                  L*: {analysis.labValues.L}, \n                  a*: {analysis.labValues.a}, \n                  b*: {analysis.labValues.b}\n                </span></p>\n              </div>\n            </div>\n          </div>\n\n          {history.length > 0 && (\n            <div className=\"p-4 border rounded bg-white shadow-sm\">\n              <div className=\"flex items-center gap-2 mb-2\">\n                <History size={20} />\n                <h3 className=\"font-bold\">Analysis History:</h3>\n              </div>\n              <div className=\"space-y-2\">\n                {history.map((record, i) => (\n                  <div key={i} className=\"text-sm text-gray-600 border-b pb-2\">\n                    <p>Time: {new Date(record.timestamp).toLocaleTimeString()}</p>\n                    <p>Undertone: {record.undertone}, Lighting: {record.brightness}</p>\n                    <p>Recommended Colors: {record.lipColors.map(c => c.name).join(', ')}</p>\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default SkinToneAnalyzer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}