{"ast":null,"code":"var _jsxFileName = \"/Users/toeychalinee/skin-tone-analyzer/src/components/SkinToneAnalyzer.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState, useEffect } from 'react';\nimport { Camera, History, RefreshCw, Info, Palette, Loader } from 'lucide-react';\n// Import the background image\nimport pinkBg from '../assets/pink_gradient_bg.jpg';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst SkinToneAnalyzer = () => {\n  _s();\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const [analysis, setAnalysis] = useState(null);\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\n  const [history, setHistory] = useState([]);\n  const [lightCondition, setLightCondition] = useState('unknown');\n  const [error, setError] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [streamActive, setStreamActive] = useState(false);\n  const SEASONAL_LIP_COLORS = {\n    \"Autumn\": [{\n      name: \"Tall Poppy\",\n      color: \"rgba(168,44,49,255)\"\n    }, {\n      name: \"Turkish Rose\",\n      color: \"rgba(187,107,113,255)\"\n    }, {\n      name: \"Tonys Pink\",\n      color: \"rgb(232,156,156)\"\n    }],\n    \"Spring\": [{\n      name: \"Deep Blush\",\n      color: \"rgba(225,110,129,255)\"\n    }, {\n      name: \"Valencia\",\n      color: \"rgba(220,66,61,255)\"\n    }, {\n      name: \"Mauvelous\",\n      color: \"rgba(239,148,161,255)\"\n    }],\n    \"Summer\": [{\n      name: \"Night Shadz\",\n      color: \"rgba(168,57,81,255)\"\n    }, {\n      name: \"Mulberry\",\n      color: \"rgba(206,75,124,255)\"\n    }, {\n      name: \"Puce\",\n      color: \"rgba(208,126,154,255)\"\n    }],\n    \"Winter\": [{\n      name: \"Medium Carmine\",\n      color: \"rgba(173,58,67,255)\"\n    }, {\n      name: \"Viola\",\n      color: \"rgba(211,156,195,255)\"\n    }, {\n      name: \"Charm\",\n      color: \"rgba(210,123,141,255)\"\n    }]\n  };\n\n  // Initialize webcam with better error handling\n  useEffect(() => {\n    let stream = null;\n    const startVideo = async () => {\n      try {\n        setIsLoading(true);\n        setError(null);\n        stream = await navigator.mediaDevices.getUserMedia({\n          video: {\n            width: {\n              ideal: 640\n            },\n            height: {\n              ideal: 480\n            },\n            facingMode: 'user',\n            frameRate: 30\n          },\n          audio: false\n        });\n        if (videoRef.current) {\n          videoRef.current.srcObject = stream;\n          videoRef.current.onloadedmetadata = () => {\n            videoRef.current.play().then(() => {\n              setStreamActive(true);\n              setIsLoading(false);\n            }).catch(err => {\n              console.error(\"Error playing video:\", err);\n              setError(\"Error starting video stream. Please refresh the page.\");\n              setIsLoading(false);\n            });\n          };\n          videoRef.current.onerror = err => {\n            console.error(\"Video element error:\", err);\n            setError(\"Error with video display. Please refresh the page.\");\n            setIsLoading(false);\n          };\n        }\n      } catch (err) {\n        console.error(\"Error accessing webcam:\", err);\n        setError(err.name === 'NotAllowedError' ? \"Camera access denied. Please enable camera permissions and refresh the page.\" : \"Could not access camera. Please check your device settings and refresh the page.\");\n        setIsLoading(false);\n      }\n    };\n    startVideo();\n    return () => {\n      if (stream) {\n        const tracks = stream.getTracks();\n        tracks.forEach(track => {\n          track.stop();\n          stream.removeTrack(track);\n        });\n      }\n      setStreamActive(false);\n    };\n  }, []);\n  const detectLighting = React.useCallback(imageData => {\n    let totalBrightness = 0;\n    for (let i = 0; i < imageData.data.length; i += 4) {\n      totalBrightness += imageData.data[i] * 0.299 + imageData.data[i + 1] * 0.587 + imageData.data[i + 2] * 0.114;\n    }\n    const avgBrightness = totalBrightness / (imageData.data.length / 4);\n    if (avgBrightness < 85) return 'dark';\n    if (avgBrightness > 170) return 'bright';\n    return 'good';\n  }, []);\n  const getFitzpatrickScale = L => {\n    if (L > 80) return 'Type I';\n    if (L > 70) return 'Type II';\n    if (L > 60) return 'Type III';\n    if (L > 50) return 'Type IV';\n    if (L > 40) return 'Type V';\n    return 'Type VI';\n  };\n  const getSeasonsRecommendation = (undertone, lightness) => {\n    let seasons = [];\n    if (undertone === 'Warm') {\n      if (lightness === 'High') {\n        seasons = ['Spring', 'Autumn'];\n      } else {\n        seasons = ['Autumn'];\n      }\n    } else if (undertone === 'Cool') {\n      if (lightness === 'High') {\n        seasons = ['Summer', 'Winter'];\n      } else {\n        seasons = ['Winter'];\n      }\n    } else {\n      if (lightness === 'High') {\n        seasons = ['Spring', 'Summer'];\n      } else {\n        seasons = ['Autumn', 'Winter'];\n      }\n    }\n    return seasons;\n  };\n  const getLipColorRecommendations = seasons => {\n    let lipColors = [];\n    seasons.forEach(season => {\n      lipColors = [...lipColors, ...SEASONAL_LIP_COLORS[season]];\n    });\n    return lipColors;\n  };\n  const getLightingAdvice = () => {\n    switch (lightCondition) {\n      case 'dark':\n        return 'Lighting is too dark. Move to a brighter area for better results.';\n      case 'bright':\n        return 'Lighting is too bright. Reduce direct light for more accurate results.';\n      case 'good':\n        return 'Lighting conditions are optimal.';\n      default:\n        return 'Analyzing lighting conditions...';\n    }\n  };\n  const analyzeSkinTone = async () => {\n    if (!videoRef.current || !canvasRef.current) {\n      setError(\"Camera not ready. Please wait or refresh the page.\");\n      return;\n    }\n    setIsAnalyzing(true);\n    try {\n      const video = videoRef.current;\n      const canvas = canvasRef.current;\n      const context = canvas.getContext('2d');\n      context.save();\n      context.scale(-1, 1);\n      context.translate(-canvas.width, 0);\n      context.drawImage(video, 0, 0, canvas.width, canvas.height);\n      context.restore();\n      const sampleAreas = [{\n        x: canvas.width / 2 - 50,\n        y: canvas.height / 2 - 50,\n        w: 100,\n        h: 100\n      }, {\n        x: canvas.width / 2 - 100,\n        y: canvas.height / 2 - 50,\n        w: 50,\n        h: 50\n      }, {\n        x: canvas.width / 2 + 50,\n        y: canvas.height / 2 - 50,\n        w: 50,\n        h: 50\n      }];\n      let totalR = 0,\n        totalG = 0,\n        totalB = 0,\n        totalPixels = 0;\n      for (const area of sampleAreas) {\n        const imageData = context.getImageData(area.x, area.y, area.w, area.h);\n        const lighting = detectLighting(imageData);\n        setLightCondition(lighting);\n        for (let i = 0; i < imageData.data.length; i += 4) {\n          totalR += imageData.data[i];\n          totalG += imageData.data[i + 1];\n          totalB += imageData.data[i + 2];\n          totalPixels++;\n        }\n      }\n      const r = totalR / totalPixels;\n      const g = totalG / totalPixels;\n      const b = totalB / totalPixels;\n      let rgb = [r / 255, g / 255, b / 255];\n      rgb = rgb.map(v => v > 0.04045 ? Math.pow((v + 0.055) / 1.055, 2.4) : v / 12.92);\n      const X = rgb[0] * 0.4124 + rgb[1] * 0.3576 + rgb[2] * 0.1805;\n      const Y = rgb[0] * 0.2126 + rgb[1] * 0.7152 + rgb[2] * 0.0722;\n      const Z = rgb[0] * 0.0193 + rgb[1] * 0.1192 + rgb[2] * 0.9505;\n      const Xn = 0.95047,\n        Yn = 1.00000,\n        Zn = 1.08883;\n      const xyz = [X / Xn, Y / Yn, Z / Zn].map(v => v > 0.008856 ? Math.pow(v, 1 / 3) : 7.787 * v + 16 / 116);\n      const L = 116 * xyz[1] - 16;\n      const aValue = 500 * (xyz[0] - xyz[1]);\n      const bValue = 200 * (xyz[1] - xyz[2]);\n      if (L < 0 || L > 100) {\n        throw new Error(\"Invalid analysis results. Please try again with better lighting.\");\n      }\n      const hueAngle = Math.atan2(bValue, aValue) * (180 / Math.PI);\n      let undertone = '';\n      if (hueAngle > 65) {\n        undertone = 'Warm';\n      } else if (hueAngle < 55) {\n        undertone = 'Cool';\n      } else {\n        undertone = 'Neutral';\n      }\n      let lightness = '';\n      if (L > 70) {\n        lightness = 'High';\n      } else if (L > 50) {\n        lightness = 'Medium';\n      } else {\n        lightness = 'Low';\n      }\n      const seasons = getSeasonsRecommendation(undertone, lightness);\n      const fitzpatrickType = getFitzpatrickScale(L);\n      const lipColors = getLipColorRecommendations(seasons);\n      const newAnalysis = {\n        undertone,\n        lightness,\n        fitzpatrickType,\n        seasons,\n        lipColors,\n        labValues: {\n          L: L.toFixed(1),\n          a: aValue.toFixed(1),\n          b: bValue.toFixed(1)\n        },\n        timestamp: new Date().toISOString()\n      };\n      setAnalysis(newAnalysis);\n      setHistory(prev => [...prev.slice(-4), newAnalysis]);\n      setError(null);\n    } catch (err) {\n      setError(\"Analysis failed. Please try again with better lighting conditions.\");\n      console.error(\"Analysis error:\", err);\n    } finally {\n      setIsAnalyzing(false);\n    }\n  };\n  const VideoContainer = () => {\n    if (isLoading) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute inset-0 flex items-center justify-center\",\n        children: /*#__PURE__*/_jsxDEV(Loader, {\n          className: \"w-8 h-8 animate-spin text-red-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 9\n      }, this);\n    }\n    if (!streamActive && !isLoading) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute inset-0 flex items-center justify-center text-gray-500\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Camera not available. Please check permissions and refresh.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 9\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"video\", {\n        ref: videoRef,\n        autoPlay: true,\n        playsInline: true,\n        muted: true,\n        className: \"w-full h-full object-cover rounded-xl transform scale-x-[-1]\",\n        style: {\n          minHeight: '320px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n        ref: canvasRef,\n        width: \"640\",\n        height: \"480\",\n        className: \"hidden\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-80 border-2 border-white rounded-full\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      backgroundImage: `url(${pinkBg})`,\n      backgroundSize: 'cover',\n      backgroundPosition: 'center',\n      backgroundRepeat: 'no-repeat',\n      minHeight: '100vh',\n      width: '100%'\n    },\n    className: \"p-4 sm:p-8\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-6xl mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl sm:text-4xl font-light italic text-red-500 mb-8\",\n        children: \"Extracting Your Colors...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4 p-4 bg-red-50 border-l-4 border-red-500 text-red-700 rounded\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(Info, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 15\n          }, this), error]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col lg:flex-row gap-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-3xl p-6 shadow-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative min-h-[320px]\",\n              children: /*#__PURE__*/_jsxDEV(VideoContainer, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 352,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4 space-y-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-center text-xl\",\n                children: \"Place your face in the guide and face the front.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 356,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-center gap-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: analyzeSkinTone,\n                  disabled: isAnalyzing || isLoading || !streamActive,\n                  className: \"bg-red-100 hover:bg-red-200 text-red-600 px-6 py-3 rounded-full flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\",\n                  children: [isAnalyzing ? /*#__PURE__*/_jsxDEV(Loader, {\n                    className: \"w-5 h-5 animate-spin\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 367,\n                    columnNumber: 23\n                  }, this) : /*#__PURE__*/_jsxDEV(Camera, {\n                    size: 20\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 369,\n                    columnNumber: 23\n                  }, this), isAnalyzing ? 'Analyzing...' : 'Analyze']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 361,\n                  columnNumber: 19\n                }, this), history.length > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setHistory([]),\n                  className: \"bg-gray-100 hover:bg-gray-200 text-gray-600 px-6 py-3 rounded-full flex items-center gap-2 transition-colors\",\n                  children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n                    size: 20\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 379,\n                    columnNumber: 23\n                  }, this), \"Clear History\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 375,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 360,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-gray-500 flex items-center justify-center gap-1\",\n                children: [/*#__PURE__*/_jsxDEV(Info, {\n                  size: 14\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 386,\n                  columnNumber: 19\n                }, this), getLightingAdvice()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 385,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 11\n        }, this), analysis && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:w-96\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-3xl p-6 shadow-lg space-y-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-2 mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(Palette, {\n                  size: 20,\n                  className: \"text-gray-600\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 400,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-600\",\n                  children: \"Color Palette\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 401,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 399,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-3xl font-serif\",\n                children: analysis.seasons[0]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 403,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 398,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-2 mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-5 h-5 rounded-full bg-gradient-to-r from-yellow-400 to-red-400\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 409,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-600\",\n                  children: \"Hue\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 410,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 408,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-3xl font-serif\",\n                children: [analysis.undertone, \" Tone\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 412,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 407,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"border-t pt-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-xl font-bold mb-4\",\n                children: \"Your Seasonal Analysis:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 417,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"font-bold mb-3\",\n                    children: \"Recommended Lip Colors:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 421,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"grid grid-cols-3 gap-4\",\n                    children: analysis.lipColors.map((color, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"w-12 h-12 rounded-full mx-auto mb-2 shadow-md border-2 border-white transition-transform hover:scale-110\",\n                        style: {\n                          backgroundColor: color.color\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 425,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-xs\",\n                        children: color.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 429,\n                        columnNumber: 29\n                      }, this)]\n                    }, i, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 424,\n                      columnNumber: 27\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 422,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 420,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"font-bold mb-2\",\n                    children: \"Analysis Details:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 437,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"space-y-1 text-sm\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      children: [\"Undertone: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"font-medium\",\n                        children: analysis.undertone\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 439,\n                        columnNumber: 39\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 439,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: [\"Lightness: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"font-medium\",\n                        children: analysis.lightness\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 440,\n                        columnNumber: 39\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 440,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: [\"Fitzpatrick Scale: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"font-medium\",\n                        children: analysis.fitzpatrickType\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 441,\n                        columnNumber: 47\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 441,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: [\"Lab Values: L*: \", analysis.labValues.L, \", a*: \", analysis.labValues.a, \", b*: \", analysis.labValues.b]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 442,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 438,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 436,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 418,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 396,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 395,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 323,\n    columnNumber: 5\n  }, this);\n};\n_s(SkinToneAnalyzer, \"pm0CRhNyxm8JivmWIBacYLRZ7qw=\");\n_c = SkinToneAnalyzer;\nexport default SkinToneAnalyzer;\nvar _c;\n$RefreshReg$(_c, \"SkinToneAnalyzer\");","map":{"version":3,"names":["React","useRef","useState","useEffect","Camera","History","RefreshCw","Info","Palette","Loader","pinkBg","jsxDEV","_jsxDEV","Fragment","_Fragment","SkinToneAnalyzer","_s","videoRef","canvasRef","analysis","setAnalysis","isAnalyzing","setIsAnalyzing","history","setHistory","lightCondition","setLightCondition","error","setError","isLoading","setIsLoading","streamActive","setStreamActive","SEASONAL_LIP_COLORS","name","color","stream","startVideo","navigator","mediaDevices","getUserMedia","video","width","ideal","height","facingMode","frameRate","audio","current","srcObject","onloadedmetadata","play","then","catch","err","console","onerror","tracks","getTracks","forEach","track","stop","removeTrack","detectLighting","useCallback","imageData","totalBrightness","i","data","length","avgBrightness","getFitzpatrickScale","L","getSeasonsRecommendation","undertone","lightness","seasons","getLipColorRecommendations","lipColors","season","getLightingAdvice","analyzeSkinTone","canvas","context","getContext","save","scale","translate","drawImage","restore","sampleAreas","x","y","w","h","totalR","totalG","totalB","totalPixels","area","getImageData","lighting","r","g","b","rgb","map","v","Math","pow","X","Y","Z","Xn","Yn","Zn","xyz","aValue","bValue","Error","hueAngle","atan2","PI","fitzpatrickType","newAnalysis","labValues","toFixed","a","timestamp","Date","toISOString","prev","slice","VideoContainer","className","children","fileName","_jsxFileName","lineNumber","columnNumber","ref","autoPlay","playsInline","muted","style","minHeight","backgroundImage","backgroundSize","backgroundPosition","backgroundRepeat","size","onClick","disabled","backgroundColor","_c","$RefreshReg$"],"sources":["/Users/toeychalinee/skin-tone-analyzer/src/components/SkinToneAnalyzer.js"],"sourcesContent":["import React, { useRef, useState, useEffect } from 'react';\nimport { Camera, History, RefreshCw, Info, Palette, Loader } from 'lucide-react';\n// Import the background image\nimport pinkBg from '../assets/pink_gradient_bg.jpg';\n\nconst SkinToneAnalyzer = () => {\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const [analysis, setAnalysis] = useState(null);\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\n  const [history, setHistory] = useState([]);\n  const [lightCondition, setLightCondition] = useState('unknown');\n  const [error, setError] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [streamActive, setStreamActive] = useState(false);\n\n  const SEASONAL_LIP_COLORS = {\n    \"Autumn\": [\n      { name: \"Tall Poppy\", color: \"rgba(168,44,49,255)\" },\n      { name: \"Turkish Rose\", color: \"rgba(187,107,113,255)\" },\n      { name: \"Tonys Pink\", color: \"rgb(232,156,156)\" }\n    ],\n    \"Spring\": [\n      { name: \"Deep Blush\", color: \"rgba(225,110,129,255)\" },\n      { name: \"Valencia\", color: \"rgba(220,66,61,255)\" },\n      { name: \"Mauvelous\", color: \"rgba(239,148,161,255)\" }\n    ],\n    \"Summer\": [\n      { name: \"Night Shadz\", color: \"rgba(168,57,81,255)\" },\n      { name: \"Mulberry\", color: \"rgba(206,75,124,255)\" },\n      { name: \"Puce\", color: \"rgba(208,126,154,255)\" }\n    ],\n    \"Winter\": [\n      { name: \"Medium Carmine\", color: \"rgba(173,58,67,255)\" },\n      { name: \"Viola\", color: \"rgba(211,156,195,255)\" },\n      { name: \"Charm\", color: \"rgba(210,123,141,255)\" }\n    ]\n  };\n\n  // Initialize webcam with better error handling\n  useEffect(() => {\n    let stream = null;\n\n    const startVideo = async () => {\n      try {\n        setIsLoading(true);\n        setError(null);\n\n        stream = await navigator.mediaDevices.getUserMedia({ \n          video: { \n            width: { ideal: 640 },\n            height: { ideal: 480 },\n            facingMode: 'user',\n            frameRate: 30\n          },\n          audio: false\n        });\n        \n        if (videoRef.current) {\n          videoRef.current.srcObject = stream;\n          \n          videoRef.current.onloadedmetadata = () => {\n            videoRef.current.play()\n              .then(() => {\n                setStreamActive(true);\n                setIsLoading(false);\n              })\n              .catch(err => {\n                console.error(\"Error playing video:\", err);\n                setError(\"Error starting video stream. Please refresh the page.\");\n                setIsLoading(false);\n              });\n          };\n          \n          videoRef.current.onerror = (err) => {\n            console.error(\"Video element error:\", err);\n            setError(\"Error with video display. Please refresh the page.\");\n            setIsLoading(false);\n          };\n        }\n      } catch (err) {\n        console.error(\"Error accessing webcam:\", err);\n        setError(\n          err.name === 'NotAllowedError' \n            ? \"Camera access denied. Please enable camera permissions and refresh the page.\" \n            : \"Could not access camera. Please check your device settings and refresh the page.\"\n        );\n        setIsLoading(false);\n      }\n    };\n\n    startVideo();\n\n    return () => {\n      if (stream) {\n        const tracks = stream.getTracks();\n        tracks.forEach(track => {\n          track.stop();\n          stream.removeTrack(track);\n        });\n      }\n      setStreamActive(false);\n    };\n  }, []);\n\n  const detectLighting = React.useCallback((imageData) => {\n    let totalBrightness = 0;\n    for (let i = 0; i < imageData.data.length; i += 4) {\n      totalBrightness += (\n        imageData.data[i] * 0.299 + \n        imageData.data[i + 1] * 0.587 + \n        imageData.data[i + 2] * 0.114\n      );\n    }\n    const avgBrightness = totalBrightness / (imageData.data.length / 4);\n    \n    if (avgBrightness < 85) return 'dark';\n    if (avgBrightness > 170) return 'bright';\n    return 'good';\n  }, []);\n\n  const getFitzpatrickScale = (L) => {\n    if (L > 80) return 'Type I';\n    if (L > 70) return 'Type II';\n    if (L > 60) return 'Type III';\n    if (L > 50) return 'Type IV';\n    if (L > 40) return 'Type V';\n    return 'Type VI';\n  };\n\n  const getSeasonsRecommendation = (undertone, lightness) => {\n    let seasons = [];\n    if (undertone === 'Warm') {\n      if (lightness === 'High') {\n        seasons = ['Spring', 'Autumn'];\n      } else {\n        seasons = ['Autumn'];\n      }\n    } else if (undertone === 'Cool') {\n      if (lightness === 'High') {\n        seasons = ['Summer', 'Winter'];\n      } else {\n        seasons = ['Winter'];\n      }\n    } else {\n      if (lightness === 'High') {\n        seasons = ['Spring', 'Summer'];\n      } else {\n        seasons = ['Autumn', 'Winter'];\n      }\n    }\n    return seasons;\n  };\n\n  const getLipColorRecommendations = (seasons) => {\n    let lipColors = [];\n    seasons.forEach(season => {\n      lipColors = [...lipColors, ...SEASONAL_LIP_COLORS[season]];\n    });\n    return lipColors;\n  };\n\n  const getLightingAdvice = () => {\n    switch(lightCondition) {\n      case 'dark': return 'Lighting is too dark. Move to a brighter area for better results.';\n      case 'bright': return 'Lighting is too bright. Reduce direct light for more accurate results.';\n      case 'good': return 'Lighting conditions are optimal.';\n      default: return 'Analyzing lighting conditions...';\n    }\n  };\n\n  const analyzeSkinTone = async () => {\n    if (!videoRef.current || !canvasRef.current) {\n      setError(\"Camera not ready. Please wait or refresh the page.\");\n      return;\n    }\n\n    setIsAnalyzing(true);\n    try {\n      const video = videoRef.current;\n      const canvas = canvasRef.current;\n      const context = canvas.getContext('2d');\n\n      context.save();\n      context.scale(-1, 1);\n      context.translate(-canvas.width, 0);\n      context.drawImage(video, 0, 0, canvas.width, canvas.height);\n      context.restore();\n    \n      const sampleAreas = [\n        { x: canvas.width/2 - 50, y: canvas.height/2 - 50, w: 100, h: 100 },\n        { x: canvas.width/2 - 100, y: canvas.height/2 - 50, w: 50, h: 50 },\n        { x: canvas.width/2 + 50, y: canvas.height/2 - 50, w: 50, h: 50 }\n      ];\n\n      let totalR = 0, totalG = 0, totalB = 0, totalPixels = 0;\n\n      for (const area of sampleAreas) {\n        const imageData = context.getImageData(area.x, area.y, area.w, area.h);\n        const lighting = detectLighting(imageData);\n        setLightCondition(lighting);\n\n        for (let i = 0; i < imageData.data.length; i += 4) {\n          totalR += imageData.data[i];\n          totalG += imageData.data[i + 1];\n          totalB += imageData.data[i + 2];\n          totalPixels++;\n        }\n      }\n\n      const r = totalR / totalPixels;\n      const g = totalG / totalPixels;\n      const b = totalB / totalPixels;\n\n      let rgb = [r/255, g/255, b/255];\n      rgb = rgb.map(v => v > 0.04045 ? Math.pow((v + 0.055) / 1.055, 2.4) : v / 12.92);\n      \n      const X = rgb[0] * 0.4124 + rgb[1] * 0.3576 + rgb[2] * 0.1805;\n      const Y = rgb[0] * 0.2126 + rgb[1] * 0.7152 + rgb[2] * 0.0722;\n      const Z = rgb[0] * 0.0193 + rgb[1] * 0.1192 + rgb[2] * 0.9505;\n\n      const Xn = 0.95047, Yn = 1.00000, Zn = 1.08883;\n      const xyz = [X/Xn, Y/Yn, Z/Zn].map(v => \n        v > 0.008856 ? Math.pow(v, 1/3) : (7.787 * v) + 16/116\n      );\n\n      const L = (116 * xyz[1]) - 16;\n      const aValue = 500 * (xyz[0] - xyz[1]);\n      const bValue = 200 * (xyz[1] - xyz[2]);\n\n      if (L < 0 || L > 100) {\n        throw new Error(\"Invalid analysis results. Please try again with better lighting.\");\n      }\n\n      const hueAngle = Math.atan2(bValue, aValue) * (180/Math.PI);\n      \n      let undertone = '';\n      if (hueAngle > 65) {\n        undertone = 'Warm';\n      } else if (hueAngle < 55) {\n        undertone = 'Cool';\n      } else {\n        undertone = 'Neutral';\n      }\n\n      let lightness = '';\n      if (L > 70) {\n        lightness = 'High';\n      } else if (L > 50) {\n        lightness = 'Medium';\n      } else {\n        lightness = 'Low';\n      }\n\n      const seasons = getSeasonsRecommendation(undertone, lightness);\n      const fitzpatrickType = getFitzpatrickScale(L);\n      const lipColors = getLipColorRecommendations(seasons);\n\n      const newAnalysis = {\n        undertone,\n        lightness,\n        fitzpatrickType,\n        seasons,\n        lipColors,\n        labValues: { \n          L: L.toFixed(1), \n          a: aValue.toFixed(1), \n          b: bValue.toFixed(1) \n        },\n        timestamp: new Date().toISOString()\n      };\n\n      setAnalysis(newAnalysis);\n      setHistory(prev => [...prev.slice(-4), newAnalysis]);\n      setError(null);\n    } catch (err) {\n      setError(\"Analysis failed. Please try again with better lighting conditions.\");\n      console.error(\"Analysis error:\", err);\n    } finally {\n      setIsAnalyzing(false);\n    }\n  };\n\n  const VideoContainer = () => {\n    if (isLoading) {\n      return (\n        <div className=\"absolute inset-0 flex items-center justify-center\">\n          <Loader className=\"w-8 h-8 animate-spin text-red-500\" />\n        </div>\n      );\n    }\n\n    if (!streamActive && !isLoading) {\n      return (\n        <div className=\"absolute inset-0 flex items-center justify-center text-gray-500\">\n          <p>Camera not available. Please check permissions and refresh.</p>\n        </div>\n      );\n    }\n\n    return (\n      <>\n        <video \n          ref={videoRef}\n          autoPlay \n          playsInline\n          muted\n          className=\"w-full h-full object-cover rounded-xl transform scale-x-[-1]\"\n          style={{ minHeight: '320px' }}\n        />\n        <canvas \n          ref={canvasRef} \n          width=\"640\" \n          height=\"480\" \n          className=\"hidden\"\n        />\n        <div className=\"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-80 border-2 border-white rounded-full\"/>\n      </>\n    );\n  };\n\n  return (\n    <div \n      style={{\n        backgroundImage: `url(${pinkBg})`,\n        backgroundSize: 'cover',\n        backgroundPosition: 'center',\n        backgroundRepeat: 'no-repeat',\n        minHeight: '100vh',\n        width: '100%'\n      }}\n      className=\"p-4 sm:p-8\"\n    >\n      <div className=\"max-w-6xl mx-auto\">\n        <h1 className=\"text-3xl sm:text-4xl font-light italic text-red-500 mb-8\">\n          Extracting Your Colors...\n        </h1>\n\n        {error && (\n          <div className=\"mb-4 p-4 bg-red-50 border-l-4 border-red-500 text-red-700 rounded\">\n            <p className=\"flex items-center gap-2\">\n              <Info size={16} />\n              {error}\n            </p>\n          </div>\n        )}\n\n        <div className=\"flex flex-col lg:flex-row gap-8\">\n          <div className=\"flex-1\">\n            <div className=\"bg-white rounded-3xl p-6 shadow-lg\">        \n              <div className=\"relative min-h-[320px]\">\n                <VideoContainer />\n              </div>\n\n              <div className=\"mt-4 space-y-4\">\n                <p className=\"text-center text-xl\">\n                  Place your face in the guide and face the front.\n                </p>\n                \n                <div className=\"flex justify-center gap-4\">\n                  <button\n                    onClick={analyzeSkinTone}\n                    disabled={isAnalyzing || isLoading || !streamActive}\n                    className=\"bg-red-100 hover:bg-red-200 text-red-600 px-6 py-3 rounded-full flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n                  >\n                    {isAnalyzing ? (\n                      <Loader className=\"w-5 h-5 animate-spin\" />\n                    ) : (\n                      <Camera size={20} />\n                    )}\n                    {isAnalyzing ? 'Analyzing...' : 'Analyze'}\n                  </button>\n\n                  {history.length > 0 && (\n                    <button\n                      onClick={() => setHistory([])}\n                      className=\"bg-gray-100 hover:bg-gray-200 text-gray-600 px-6 py-3 rounded-full flex items-center gap-2 transition-colors\"\n                    >\n                      <RefreshCw size={20} />\n                      Clear History\n                    </button>\n                  )}\n                </div>\n                \n                <div className=\"text-sm text-gray-500 flex items-center justify-center gap-1\">\n                  <Info size={14} />\n                  {getLightingAdvice()}\n                </div>\n              </div>                \n            </div>\n          </div>\n\n          {/* Right Panel - Results */}\n          {analysis && (\n            <div className=\"lg:w-96\">\n              <div className=\"bg-white rounded-3xl p-6 shadow-lg space-y-8\">\n                {/* Color Palette Section */}\n                <div>\n                  <div className=\"flex items-center gap-2 mb-2\">\n                    <Palette size={20} className=\"text-gray-600\" />\n                    <span className=\"text-gray-600\">Color Palette</span>\n                  </div>\n                  <h2 className=\"text-3xl font-serif\">{analysis.seasons[0]}</h2>\n                </div>\n\n                {/* Hue Section */}\n                <div>\n                  <div className=\"flex items-center gap-2 mb-2\">\n                    <div className=\"w-5 h-5 rounded-full bg-gradient-to-r from-yellow-400 to-red-400\" />\n                    <span className=\"text-gray-600\">Hue</span>\n                  </div>\n                  <h2 className=\"text-3xl font-serif\">{analysis.undertone} Tone</h2>\n                </div>\n\n                {/* Analysis Results */}\n                <div className=\"border-t pt-6\">\n                  <h3 className=\"text-xl font-bold mb-4\">Your Seasonal Analysis:</h3>\n                  <div className=\"space-y-6\">\n                    {/* Lip Colors */}\n                    <div>\n                      <h4 className=\"font-bold mb-3\">Recommended Lip Colors:</h4>\n                      <div className=\"grid grid-cols-3 gap-4\">\n                        {analysis.lipColors.map((color, i) => (\n                          <div key={i} className=\"text-center\">\n                            <div \n                              className=\"w-12 h-12 rounded-full mx-auto mb-2 shadow-md border-2 border-white transition-transform hover:scale-110\"\n                              style={{ backgroundColor: color.color }}\n                            />\n                            <span className=\"text-xs\">{color.name}</span>\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n\n                    {/* Details */}\n                    <div>\n                      <h4 className=\"font-bold mb-2\">Analysis Details:</h4>\n                      <div className=\"space-y-1 text-sm\">\n                        <p>Undertone: <span className=\"font-medium\">{analysis.undertone}</span></p>\n                        <p>Lightness: <span className=\"font-medium\">{analysis.lightness}</span></p>\n                        <p>Fitzpatrick Scale: <span className=\"font-medium\">{analysis.fitzpatrickType}</span></p>\n                        <p>Lab Values: L*: {analysis.labValues.L}, a*: {analysis.labValues.a}, b*: {analysis.labValues.b}</p>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SkinToneAnalyzer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}