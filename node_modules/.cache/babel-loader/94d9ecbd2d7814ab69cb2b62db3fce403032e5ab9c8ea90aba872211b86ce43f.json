{"ast":null,"code":"// src/utils/dataExport.js\nexport const exportAnalysisData = async () => {\n  try {\n    // For now, let's just export the latest analysis from local storage\n    const analysisData = localStorage.getItem('analysisHistory');\n    if (!analysisData) {\n      alert('No analysis data available to export');\n      return;\n    }\n\n    // Convert to CSV\n    const data = JSON.parse(analysisData);\n    const csv = convertToCSV(data);\n\n    // Create download\n    const blob = new Blob([csv], {\n      type: 'text/csv'\n    });\n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `skin-tone-analysis-${new Date().toISOString()}.csv`;\n    a.click();\n  } catch (error) {\n    console.error('Error exporting data:', error);\n    alert('Error exporting data. Please try again.');\n  }\n};\nconst convertToCSV = data => {\n  if (!Array.isArray(data)) {\n    data = [data];\n  }\n  const headers = Object.keys(data[0]);\n  const rows = data.map(item => headers.map(header => {\n    const value = item[header];\n    return typeof value === 'object' ? JSON.stringify(value) : String(value);\n  }).join(','));\n  return [headers.join(','), ...rows].join('\\n');\n};","map":{"version":3,"names":["exportAnalysisData","analysisData","localStorage","getItem","alert","data","JSON","parse","csv","convertToCSV","blob","Blob","type","url","window","URL","createObjectURL","a","document","createElement","href","download","Date","toISOString","click","error","console","Array","isArray","headers","Object","keys","rows","map","item","header","value","stringify","String","join"],"sources":["/Users/toeychalinee/Lipstick-maker/src/utils/dataExport.js"],"sourcesContent":["// src/utils/dataExport.js\nexport const exportAnalysisData = async () => {\n    try {\n      // For now, let's just export the latest analysis from local storage\n      const analysisData = localStorage.getItem('analysisHistory');\n      if (!analysisData) {\n        alert('No analysis data available to export');\n        return;\n      }\n  \n      // Convert to CSV\n      const data = JSON.parse(analysisData);\n      const csv = convertToCSV(data);\n      \n      // Create download\n      const blob = new Blob([csv], { type: 'text/csv' });\n      const url = window.URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `skin-tone-analysis-${new Date().toISOString()}.csv`;\n      a.click();\n    } catch (error) {\n      console.error('Error exporting data:', error);\n      alert('Error exporting data. Please try again.');\n    }\n  };\n  \n  const convertToCSV = (data) => {\n    if (!Array.isArray(data)) {\n      data = [data];\n    }\n    const headers = Object.keys(data[0]);\n    const rows = data.map(item => \n      headers.map(header => {\n        const value = item[header];\n        return typeof value === 'object' ? \n          JSON.stringify(value) : \n          String(value);\n      }).join(',')\n    );\n    return [headers.join(','), ...rows].join('\\n');\n  };"],"mappings":"AAAA;AACA,OAAO,MAAMA,kBAAkB,GAAG,MAAAA,CAAA,KAAY;EAC1C,IAAI;IACF;IACA,MAAMC,YAAY,GAAGC,YAAY,CAACC,OAAO,CAAC,iBAAiB,CAAC;IAC5D,IAAI,CAACF,YAAY,EAAE;MACjBG,KAAK,CAAC,sCAAsC,CAAC;MAC7C;IACF;;IAEA;IACA,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACN,YAAY,CAAC;IACrC,MAAMO,GAAG,GAAGC,YAAY,CAACJ,IAAI,CAAC;;IAE9B;IACA,MAAMK,IAAI,GAAG,IAAIC,IAAI,CAAC,CAACH,GAAG,CAAC,EAAE;MAAEI,IAAI,EAAE;IAAW,CAAC,CAAC;IAClD,MAAMC,GAAG,GAAGC,MAAM,CAACC,GAAG,CAACC,eAAe,CAACN,IAAI,CAAC;IAC5C,MAAMO,CAAC,GAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC;IACrCF,CAAC,CAACG,IAAI,GAAGP,GAAG;IACZI,CAAC,CAACI,QAAQ,GAAG,sBAAsB,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,MAAM;IACjEN,CAAC,CAACO,KAAK,CAAC,CAAC;EACX,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;IAC7CrB,KAAK,CAAC,yCAAyC,CAAC;EAClD;AACF,CAAC;AAED,MAAMK,YAAY,GAAIJ,IAAI,IAAK;EAC7B,IAAI,CAACsB,KAAK,CAACC,OAAO,CAACvB,IAAI,CAAC,EAAE;IACxBA,IAAI,GAAG,CAACA,IAAI,CAAC;EACf;EACA,MAAMwB,OAAO,GAAGC,MAAM,CAACC,IAAI,CAAC1B,IAAI,CAAC,CAAC,CAAC,CAAC;EACpC,MAAM2B,IAAI,GAAG3B,IAAI,CAAC4B,GAAG,CAACC,IAAI,IACxBL,OAAO,CAACI,GAAG,CAACE,MAAM,IAAI;IACpB,MAAMC,KAAK,GAAGF,IAAI,CAACC,MAAM,CAAC;IAC1B,OAAO,OAAOC,KAAK,KAAK,QAAQ,GAC9B9B,IAAI,CAAC+B,SAAS,CAACD,KAAK,CAAC,GACrBE,MAAM,CAACF,KAAK,CAAC;EACjB,CAAC,CAAC,CAACG,IAAI,CAAC,GAAG,CACb,CAAC;EACD,OAAO,CAACV,OAAO,CAACU,IAAI,CAAC,GAAG,CAAC,EAAE,GAAGP,IAAI,CAAC,CAACO,IAAI,CAAC,IAAI,CAAC;AAChD,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}